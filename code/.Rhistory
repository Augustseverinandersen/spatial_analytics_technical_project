knitr::opts_chunk$set(echo = TRUE)
library(sf)
library(sf)
library(raster)
library(tidyverse)
getwd()
shark_attacks <- read.csv("..data/Australian Shark-Incident Database Public Version.csv")
shark_attacks <- read.csv("../data/Australian Shark-Incident Database Public Version.csv")
shark_attacks <- read.csv(file = "../data/Australian Shark-Incident Database Public Version.csv")
getwd()
shark_attacks <- read.csv(file = "../data/Australian Shark-Incident Database Public Version.csv", header = FALSE)
head(shark_attacks)
au_pop <- read.csv("../data/au.csv")
head(au_pop)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", header = FALSE)
head(shark_attacks)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", sep = ;)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", sep = ";")
head(shark_attacks)
crs(au_pop)
crs(shark_attacks)
head(au_pop)
au_pop_crs <- st_as_sf(au_pop, coords = c("lng", "lat"), crs = 1150)
au_pop_crs <- st_as_sf(au_pop, coords = c("lng", "lat"))
crs(au_pop_crs)
au_pop_crs <- st_as_sf(au_pop, coords = c("lng", "lat"), crs = 4326)
crs(au_pop_crs)
head(shark_attacks)
shark_attacks_crs <- st_as_sf(shark_attacks, coords = c("Longitude", "Latitude"), crs = 4326)
head(au_pop)
head(shark_attacks)
# Show rows with missing values
shark_attacks[missing_rows, ]
# Find rows with missing values in the longitude or latitude columns
missing_rows <- which(is.na(shark_attacks$Longitude) | is.na(shark_attacks$Latitude))
# Show rows with missing values
shark_attacks[missing_rows, ]
shark_attacks <- na.omit(shark_attacks$Latitude)
shark_attacks_crs <- st_as_sf(shark_attacks, coords = c("Longitude", "Latitude"), crs = 4326)
head(au_pop)
library(dplyr)
library(dplyr)
df <- shark_attacks %>%
mutate(longitude = as.numeric(Longitude),
latitude = as.numeric(Latitude))
df <- shark_attacks %>%
mutate(Longitude = as.numeric(Longitude),
Latitude = as.numeric(Latitude))
df <- shark_attacks %>%
Longitude = as.numeric(Longitude),
df <- shark_attacks %>%
Longitude = as.numeric(Longitude) %>%
Latitude = as.numeric(Latitude)
shark_attacks <- shark_attacks %>%
Longitude = as.numeric(Longitude)
shark_attacks <- shark_attacks %>%
as.numeric(Longitude)
shark_attacks <- as.numeric(shark_attacks$Longitude)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", sep = ";")
head(shark_attacks)
shark_attacks <- as.numeric(shark_attacks$Longitude)
shark_attacks <- na.omit(shark_attacks$Latitude)
head(shark_attacks)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", sep = ";")
head(shark_attacks)
shark_attacks <- shark_attacks %>%
gsub(",", ".", Latitude)
shark_attacks <- shark_attacks %>%
gsub(",", ".", shark_attacks$Latitude)
head(shark_attacks)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", sep = ";")
head(shark_attacks)
columns <- c("Latitude", "Longitude")
shark_attacks[columns] <- lapply(shark_attacks[columns], gsub, pattern = ",", replacement = ".")
head(shark_attacks)
shark_attacks <- as.numeric(shark_attacks$Longitude)
head(shark_attacks)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", sep = ";")
head(shark_attacks)
columns <- c("Latitude", "Longitude")
shark_attacks[columns] <- lapply(shark_attacks[columns], gsub, pattern = ",", replacement = ".")
head(shark_attacks)
shark_attacks_crs <- st_as_sf(shark_attacks, coords = c("Longitude", "Latitude"), crs = 4326)
shark_attacks <- na.omit(shark_attacks$Latitude)
head(shark_attacks)
class(shark_attacks)
shark_attacks <- read.csv(file = "../data/shark_attacks.csv", sep = ";")
head(shark_attacks)
columns <- c("Latitude", "Longitude")
shark_attacks[columns] <- lapply(shark_attacks[columns], gsub, pattern = ",", replacement = ".")
View(shark_attacks)
shark_attacks_na <- na.omit(shark_attacks$Latitude)
class(shark_attacks)
class(shark_attacks_na)
shark_attacks_na <- na.omit(shark_attacks)
class(shark_attacks_na)
head(shark_attacks_na)
View(shark_attacks)
shark_attacks_na <- shark_attacks[!(shark_attacks$Longitude == ""), ]
class(shark_attacks_na)
head(shark_attacks_na)
shark_attacks_crs <- st_as_sf(shark_attacks_na, coords = c("Longitude", "Latitude"), crs = 4326)
View(shark_attacks_na)
df <- shark_attacks[!(shark_attacks$Longitude == ""), ]
sum(is.na(df$longitude) | is.na(df$latitude))  # using is.na()
sum(!complete.cases(df$longitude, df$latitude))  # using complete.cases()
View(df)
shark_attacks_na <- shark_attacks[!(shark_attacks$Longitude == ""), ]
class(shark_attacks_na)
head(shark_attacks_na)
au_pop_crs <- st_as_sf(au_pop, coords = c("lng", "lat"), crs = 4326)
shark_attacks_crs <- st_as_sf(shark_attacks_na, coords = c("Longitude", "Latitude"), crs = 4326)
View(shark_attacks_na)
df <- shark_attacks_na %>% mutate_at(c('Longtitude', 'Latitude'), as.numeric)
df <- shark_attacks_na %>% mutate_at(c('Longitude', 'Latitude'), as.numeric)
View(df)
head(df)
shark_attacks_crs <- st_as_sf(shark_attacks_na, coords = c("Longitude", "Latitude"), crs = 4326)
shark_attacks_crs <- st_as_sf(df, coords = c("Longitude", "Latitude"), crs = 4326)
new_df <- df %>%
select(df, Incident.year, Victim.injury, State, Location, Latitude, Longitude, Site.category)
new_df <-   select(df, Incident.year, Victim.injury, State, Location, Latitude, Longitude, Site.category)
shark_attacks_crs <- st_as_sf(new_df, coords = c("Longitude", "Latitude"), crs = 4326)
View(new_df)
View(au_pop_crs)
View(au_pop)
au_pop_crs <- st_as_sf(au_pop, coords = c("lng", "lat"), crs = 4326)
shark_attacks_crs <- st_as_sf(new_df, coords = c("Longitude", "Latitude"), crs = 4326)
head(new_df)
shark_attacks_crs <- st_as_sf(new_df, coords = c("Longitude", "Latitude"), crs = 4326)
shark_attacks_crs <- st_as_sf(new_df, coords = c(6, 5), crs = 4326)
shark_attacks_crs <- st_as_sf(new_df, coords = c("Longitude", "Latitude"), crs = 4326)
shark_attacks_crs <- st_as_sf(new_df, coords = c("Longitude", "Latitude"), crs = 4326)
crs(au_pop_crs)
shark_attacks_crs <- st_as_sf(new_df, coords = c("Longitude", "Latitude"), crs = 4326)
View(au_pop)
